echo "ðŸš€ Running pre-commit checks for wy-helper workspace..."

# å¤„ç†å½“å‰ç›®å½•çš„æ–‡ä»¶
npx lint-staged

# æ£€æŸ¥å­åŒ…å˜æ›´å¹¶è¿è¡Œå¯¹åº”çš„ lint-staged
if git diff --cached --name-only | grep "wy-helper/" > /dev/null; then
  echo "ðŸ“¦ Running lint-staged for wy-helper package..."
  cd wy-helper
  npx lint-staged
  pnpm run type-check
  cd ..
fi

if git diff --cached --name-only | grep "wy-dom-helper/" > /dev/null; then
  echo "ðŸ“¦ Running lint-staged for wy-dom-helper package..."
  cd wy-dom-helper
  npx lint-staged
  pnpm run type-check
  cd ..
fi

echo "âœ… Pre-commit checks completed!"